{"ast":null,"code":"var _jsxFileName = \"/home/olotem321/jep-cashier-2021-2/src/screens/checker.js\";\nimport React from 'react';\nimport { HeaderBar } from './../components/HeaderBar';\nimport moment from 'moment';\nimport { getDailyTotalItem } from '../brains/foodItems';\nimport { connect } from 'react-redux';\nimport { submitCompleteStatus, redoCompleteStatus } from '../brains/foodItems';\nimport { loadCookingFoodItems, loadCompleteFoodItems } from './../Redux/actions/foodItems';\n\nclass Checker extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.confirm = (id, quantity) => {\n      submitCompleteStatus({\n        item_order_id: id,\n        status: 'complete',\n        create_by: this.props.user.id,\n        quantity: quantity\n      });\n      var newCookingList = this.props.foodItems.cookingFoodItems.filter(o => o.id !== id);\n      this.props.dispatch(loadCookingFoodItems(newCookingList));\n    };\n\n    this.redo = id => {\n      redoCompleteStatus({\n        item_order_id: id\n      });\n      var newCompleteList = this.props.foodItems.completeFoodItems.filter(o => o.id !== id);\n      this.props.dispatch(loadCompleteFoodItems(newCompleteList));\n    };\n\n    console.log(this.props.foodItems.cookingFoodItems);\n    this.state = {\n      date: moment().format('DD/MM/YYYY'),\n      items: {\n        food: [],\n        beverage: []\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(HeaderBar, {\n      buttonFunction: () => {\n        this.props.history.push('/tables');\n      },\n      buttonLabel: \"\\u0E01\\u0E25\\u0E31\\u0E1A\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E42\\u0E15\\u0E4A\\u0E30\",\n      name: this.props.user.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E1B\\u0E23\\u0E38\\u0E07\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), this.props.foodItems.cookingFoodItems.map(item => React.createElement(ItemBox, {\n      id: item.id,\n      table_number: item.table_number,\n      item_name: item.name,\n      quantity: item.quantity,\n      user_name: item.short_name,\n      timestamp: moment(item.timestamp).format('HH:mm'),\n      confirm: this.confirm,\n      type: \"confirm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E1B\\u0E23\\u0E38\\u0E07\\u0E40\\u0E2A\\u0E23\\u0E47\\u0E08\\u0E41\\u0E25\\u0E49\\u0E27\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), this.props.foodItems.completeFoodItems.map(item => React.createElement(ItemBox, {\n      id: item.id,\n      table_number: item.table_number,\n      item_name: item.name,\n      quantity: item.quantity,\n      user_name: item.short_name,\n      timestamp: moment(item.timestamp).format('HH:mm'),\n      redo: this.redo,\n      type: \"redo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst mapStateToprops = state => {\n  return {\n    user: state.user,\n    foodItems: state.foodItems\n  };\n};\n\nconst ItemBox = props => {\n  return React.createElement(\"div\", {\n    className: \"row pt-3 my-3 mx-1\",\n    style: {\n      border: '2px solid black'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm-2 text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"\\u0E42\\u0E15\\u0E4A\\u0E30: \", props.table_number)), React.createElement(\"div\", {\n    className: \"col-sm-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, props.item_name)), React.createElement(\"div\", {\n    className: \"col-sm-2 text-center \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19: \", props.quantity)), React.createElement(\"div\", {\n    className: \"col-sm-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"\\u0E42\\u0E14\\u0E22: \", props.user_name), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, props.timestamp)), React.createElement(\"div\", {\n    className: \"col-sm-2 text-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, props.type === 'confirm' ? React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    onClick: () => props.confirm(props.id, props.quantity),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"\\u0E1B\\u0E23\\u0E38\\u0E07\\u0E40\\u0E2A\\u0E23\\u0E47\\u0E08\") : React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: () => props.redo(props.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E1B\\u0E23\\u0E38\\u0E07\")));\n};\n\nexport default connect(mapStateToprops)(Checker);","map":{"version":3,"sources":["/home/olotem321/jep-cashier-2021-2/src/screens/checker.js"],"names":["React","HeaderBar","moment","getDailyTotalItem","connect","submitCompleteStatus","redoCompleteStatus","loadCookingFoodItems","loadCompleteFoodItems","Checker","Component","constructor","props","confirm","id","quantity","item_order_id","status","create_by","user","newCookingList","foodItems","cookingFoodItems","filter","o","dispatch","redo","newCompleteList","completeFoodItems","console","log","state","date","format","items","food","beverage","render","history","push","name","map","item","table_number","short_name","timestamp","mapStateToprops","ItemBox","border","item_name","user_name","type"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {HeaderBar} from './../components/HeaderBar';\r\nimport moment from 'moment';\r\nimport { getDailyTotalItem } from '../brains/foodItems';\r\nimport {connect} from 'react-redux';\r\nimport {submitCompleteStatus, redoCompleteStatus} from '../brains/foodItems'\r\nimport {loadCookingFoodItems, loadCompleteFoodItems} from './../Redux/actions/foodItems';\r\n\r\nclass Checker extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    console.log(this.props.foodItems.cookingFoodItems);\r\n    this.state = {\r\n      date: moment().format('DD/MM/YYYY'),\r\n      items: {\r\n        food: [],\r\n        beverage: []\r\n      }\r\n    }\r\n  }\r\n\r\n  confirm = (id, quantity) => {\r\n    submitCompleteStatus({\r\n      item_order_id: id,\r\n      status: 'complete',\r\n      create_by: this.props.user.id,\r\n      quantity: quantity\r\n    });\r\n    var newCookingList = this.props.foodItems.cookingFoodItems.filter(o => o.id !== id);\r\n    this.props.dispatch(loadCookingFoodItems(newCookingList));\r\n  }\r\n\r\n  redo = (id) => {\r\n    redoCompleteStatus({\r\n      item_order_id: id,\r\n    });\r\n    var newCompleteList = this.props.foodItems.completeFoodItems.filter(o => o.id !== id);\r\n    this.props.dispatch(loadCompleteFoodItems(newCompleteList));\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"container\">\r\n      <HeaderBar\r\n        buttonFunction={() => {\r\n          this.props.history.push('/tables');\r\n        }}\r\n        buttonLabel=\"กลับหน้าโต๊ะ\"\r\n        name={this.props.user.name}\r\n      />\r\n      <div className=\"row mt-3\">\r\n        <div className=\"col-sm-6\" >\r\n          <h4>รายการกำลังปรุง</h4>\r\n          <br />\r\n          {this.props.foodItems.cookingFoodItems.map(item => (\r\n            <ItemBox\r\n              id={item.id}\r\n              table_number={item.table_number}\r\n              item_name={item.name}\r\n              quantity={item.quantity}\r\n              user_name={item.short_name}\r\n              timestamp={moment(item.timestamp).format('HH:mm')}\r\n              confirm={this.confirm}\r\n              type=\"confirm\"\r\n            />\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"col-sm-6\" >\r\n          <h4>รายการปรุงเสร็จแล้ว</h4>\r\n          <br />\r\n          {this.props.foodItems.completeFoodItems.map(item => (\r\n            <ItemBox\r\n              id={item.id}\r\n              table_number={item.table_number}\r\n              item_name={item.name}\r\n              quantity={item.quantity}\r\n              user_name={item.short_name}\r\n              timestamp={moment(item.timestamp).format('HH:mm')}\r\n              redo={this.redo}\r\n              type=\"redo\"\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToprops = state => {\r\n  return {\r\n    user: state.user,\r\n    foodItems: state.foodItems\r\n  };\r\n};\r\n\r\nconst ItemBox = (props) => {\r\n  return(\r\n    <div className=\"row pt-3 my-3 mx-1\" style={{border: '2px solid black'}}>\r\n      <div className=\"col-sm-2 text-center\">\r\n        <h5>โต๊ะ: {props.table_number}</h5>\r\n      </div>\r\n      <div className=\"col-sm-4\">\r\n        <h5>{props.item_name}</h5>\r\n      </div>\r\n      <div className=\"col-sm-2 text-center \">\r\n        <h5>จำนวน: {props.quantity}</h5>\r\n      </div>\r\n      <div className=\"col-sm-2\">\r\n        <p>โดย: {props.user_name}</p>\r\n        <p>{props.timestamp}</p>\r\n      </div>\r\n      <div className=\"col-sm-2 text-right\">\r\n        {props.type === 'confirm' ?\r\n        <button className=\"btn btn-success\" onClick={() => props.confirm(props.id, props.quantity)}>ปรุงเสร็จ</button>\r\n        :\r\n        <button className=\"btn btn-danger\" onClick={() => props.redo(props.id)}>กำลังปรุง</button>\r\n    }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToprops)(Checker);\r\n"]},"metadata":{},"sourceType":"module"}