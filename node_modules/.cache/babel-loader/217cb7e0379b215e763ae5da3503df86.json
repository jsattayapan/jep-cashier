{"ast":null,"code":"var _jsxFileName = \"/home/olotem321/jep-cashier-2021-2/src/screens/DailyTotalItems.js\";\nimport React from 'react';\nimport { HeaderBar } from './../components/HeaderBar';\nimport moment from 'moment';\nimport { getDailyTotalItem } from '../brains/foodItems';\nimport { connect } from 'react-redux';\n\nclass DailyTotalItems extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.dateOnChange = e => {\n      this.setState({\n        date: e.target.value\n      });\n    };\n\n    this.sortBy = e => {\n      if (e.target.value === 'code') {\n        this.setState({\n          items: {\n            food: this.state.items.food.sort((a, b) => a.quantity < b.quantity),\n            beverage: this.state.items.beverage.sort((a, b) => a.quantity < b.quantity)\n          }\n        });\n      } else {\n        this.setState({\n          items: {\n            food: this.state.items.food.sort((a, b) => a.item_code > b.item_code),\n            beverage: this.state.items.beverage.sort((a, b) => a.item_code > b.item_code)\n          }\n        });\n      }\n\n      this.setState({\n        sortBy: e.target.value\n      });\n    };\n\n    this.state = {\n      date: moment().format('DD/MM/YYYY'),\n      items: {\n        food: [],\n        beverage: []\n      },\n      sortBy: 'code'\n    };\n  }\n\n  submitSearch() {\n    console.log('click submit');\n    getDailyTotalItem({\n      date: this.state.date\n    }, (status, data) => {\n      if (status) {\n        this.setState({\n          items: {\n            food: data.filter(item => item.category_name !== 'เครื่องดื่ม').sort((a, b) => a.quantity < b.quantity),\n            beverage: data.filter(item => item.category_name === 'เครื่องดื่ม').sort((a, b) => a.quantity < b.quantity)\n          }\n        });\n        console.log(this.state.items);\n      } else {}\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(HeaderBar, {\n      buttonFunction: () => {\n        this.props.history.push('/tables');\n      },\n      buttonLabel: \"\\u0E01\\u0E25\\u0E31\\u0E1A\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E42\\u0E15\\u0E4A\\u0E30\",\n      name: this.props.user.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"basic-addon1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\")), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.dateOnChange,\n      value: this.state.date,\n      placeholder: moment().format('DD/MM/YYYY'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-info\",\n      onClick: () => this.submitSearch(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\")), React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      onChange: this.sortBy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"code\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"\\u0E40\\u0E23\\u0E35\\u0E22\\u0E07\\u0E08\\u0E32\\u0E01\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\"), React.createElement(\"option\", {\n      value: \"qty\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"\\u0E40\\u0E23\\u0E35\\u0E22\\u0E07\\u0E08\\u0E32\\u0E01\\u0E23\\u0E2B\\u0E31\\u0E2A\")))), React.createElement(\"div\", {\n      className: \"row mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-6 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"\\u0E40\\u0E04\\u0E23\\u0E37\\u0E48\\u0E2D\\u0E07\\u0E14\\u0E37\\u0E48\\u0E21\"), React.createElement(\"table\", {\n      className: \"table table-hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"\\u0E23\\u0E2B\\u0E31\\u0E2A\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\"))), this.state.items.beverage.length !== 0 || this.state.items.beverage.length !== undefined ? React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.state.items.beverage.map(item => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, item.item_code), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, item.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, item.quantity)))) : React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colSpan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"))))), React.createElement(\"div\", {\n      className: \"col-sm-6 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"\\u0E2D\\u0E32\\u0E2B\\u0E32\\u0E23\"), React.createElement(\"table\", {\n      className: \"table table-hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"\\u0E23\\u0E2B\\u0E31\\u0E2A\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\"))), this.state.items.food.length !== 0 || this.state.items.food.length !== undefined ? React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, this.state.items.food.map(item => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, item.item_code), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, item.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, item.quantity)))) : React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\")))))));\n  }\n\n}\n\nconst mapStateToprops = state => {\n  return {\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToprops)(DailyTotalItems);","map":{"version":3,"sources":["/home/olotem321/jep-cashier-2021-2/src/screens/DailyTotalItems.js"],"names":["React","HeaderBar","moment","getDailyTotalItem","connect","DailyTotalItems","Component","constructor","props","dateOnChange","e","setState","date","target","value","sortBy","items","food","state","sort","a","b","quantity","beverage","item_code","format","submitSearch","console","log","status","data","filter","item","category_name","render","history","push","user","name","length","undefined","map","mapStateToprops"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {HeaderBar} from './../components/HeaderBar';\r\nimport moment from 'moment';\r\nimport { getDailyTotalItem } from '../brains/foodItems';\r\nimport {connect} from 'react-redux';\r\n\r\nclass DailyTotalItems extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      date: moment().format('DD/MM/YYYY'),\r\n      items: {\r\n        food: [],\r\n        beverage: []\r\n      },\r\n        sortBy: 'code'\r\n    }\r\n  }\r\n\r\n  submitSearch(){\r\n    console.log('click submit');\r\n    getDailyTotalItem({date: this.state.date}, (status, data) => {\r\n      if(status){\r\n        this.setState({\r\n          items: {\r\n            food: data.filter(item => item.category_name !== 'เครื่องดื่ม').sort((a,b) => a.quantity < b.quantity),\r\n            beverage: data.filter(item => item.category_name === 'เครื่องดื่ม').sort((a,b) => a.quantity < b.quantity)\r\n          }\r\n        })\r\n        console.log(this.state.items);\r\n      }else{\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  dateOnChange = (e) => {\r\n    this.setState({\r\n      date: e.target.value\r\n    })\r\n  }\r\n  \r\n  sortBy = (e) => {\r\n      if(e.target.value === 'code'){\r\n         this.setState({\r\n          items: {\r\n            food: this.state.items.food.sort((a,b) => a.quantity < b.quantity),\r\n            beverage: this.state.items.beverage.sort((a,b) => a.quantity < b.quantity),\r\n          }\r\n        }) \r\n      }else{\r\n          this.setState({\r\n          items: {\r\n            food: this.state.items.food.sort((a,b) => a.item_code > b.item_code),\r\n            beverage: this.state.items.beverage.sort((a,b) => a.item_code > b.item_code),\r\n          }\r\n        }) \r\n      }\r\n      \r\n    this.setState({\r\n      sortBy: e.target.value\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"container\">\r\n      <HeaderBar\r\n        buttonFunction={() => {\r\n          this.props.history.push('/tables');\r\n        }}\r\n        buttonLabel=\"กลับหน้าโต๊ะ\"\r\n        name={this.props.user.name}\r\n      />\r\n        <div className=\"row mt-3\">\r\n          <div className=\"col-sm-4\">\r\n            <div className=\"input-group mb-3\">\r\n              <div className=\"input-group-prepend\">\r\n                <span className=\"input-group-text\" id=\"basic-addon1\">วันที่</span>\r\n              </div>\r\n              <input type=\"text\" className=\"form-control\" onChange={this.dateOnChange} value={this.state.date} placeholder={moment().format('DD/MM/YYYY')} />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-sm-4\">\r\n            <button className=\"btn btn-info\" onClick={() => this.submitSearch()}>ค้นหา</button>\r\n          </div>\r\n          <div className=\"col-sm-4\">\r\n            <select onChange={this.sortBy}>\r\n              <option value=\"code\">เรียงจากจำนวน</option>\r\n              <option value=\"qty\">เรียงจากรหัส</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"row mt-3\">\r\n          <div className=\"col-sm-6 text-center\">\r\n            <h4>เครื่องดื่ม</h4>\r\n            <table className=\"table table-hover\">\r\n              <thead>\r\n                <tr>\r\n                  <th>รหัส</th>\r\n                  <th>รายการ</th>\r\n                  <th>จำนวน</th>\r\n                </tr>\r\n              </thead>\r\n        {this.state.items.beverage.length !== 0 || this.state.items.beverage.length !== undefined ?\r\n          <tbody>\r\n            {this.state.items.beverage.map(item => (\r\n              <tr>\r\n                <td>{item.item_code}</td>\r\n                <td>{item.name}</td>\r\n                <td>{item.quantity}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n          :\r\n          <tbody>\r\n              <tr>\r\n                <td colSpan='2'>ไม่มีข้อมูล</td>\r\n              </tr>\r\n          </tbody>\r\n        }\r\n        </table>\r\n        </div>\r\n        <div className=\"col-sm-6 text-center\">\r\n          <h4>อาหาร</h4>\r\n          <table className=\"table table-hover\">\r\n            <thead>\r\n              <tr>\r\n                <th>รหัส</th>\r\n                <th>รายการ</th>\r\n                <th>จำนวน</th>\r\n              </tr>\r\n            </thead>\r\n      {this.state.items.food.length !== 0 || this.state.items.food.length !== undefined ?\r\n        <tbody>\r\n          {this.state.items.food.map(item => (\r\n            <tr>\r\n              <td>{item.item_code}</td>\r\n              <td>{item.name}</td>\r\n              <td>{item.quantity}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n        :\r\n        <tbody>\r\n            <tr>\r\n              <td>ไม่มีข้อมูล</td>\r\n            </tr>\r\n        </tbody>\r\n      }\r\n      </table>\r\n      </div>\r\n      </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToprops = state => {\r\n  return {\r\n    user: state.user\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToprops)(DailyTotalItems);\r\n"]},"metadata":{},"sourceType":"module"}